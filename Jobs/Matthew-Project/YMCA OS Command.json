{
  "ProjectId": 1,
  "ProjectName": "Matthew-Project",
  "JobName": "YMCA OS Command",
  "Logging": 1,
  "LogBatchSize": 5,
  "CancelJobFlag": false,
  "LoggingType": null,
  "Tasks": [
    {
      "JobName": "YMCA OS Command",
      "TaskContent": "$BackupFolder = \"/ProgramData/DGAgent/test_db-master/\"\r\n$BackupFile = \"employees.sql\";\r\n$Database = \"employeeoutput\";\r\n$mysql = \"C:/ProgramData/DGAgent/mysql-shell-8.0.19-windows-x86-64bit/bin/mysqlsh.exe\"\r\n# Do not modify past here\r\nSet-Location $BackupFolder;\r\n$Username = $SourceConnection.Options.Username;\r\n$Password = $SourceConnection.Options.Password;\r\n$DropCommand = \"DROP DATABASE IF EXISTS $Database\";\r\n$CreateCommand = \"CREATE DATABASE $Database\";\r\n$SourceCommand = \"source $BackupFile\";\r\n& $mysql --sql --user=$Username --password=$Password --show-warnings=false -e $DropCommand;\r\n& $mysql --sql --user=$Username --password=$Password --show-warnings=false -e $CreateCommand;\r\n& $mysql --sql --user=$Username --password=$Password --show-warnings=false --database=$Database -e $SourceCommand;\r\n\r\n",
      "TaskName": "Powershell Restore",
      "ProjectId": 1,
      "ProjectName": null,
      "TaskTypeName": "PowerShell Core",
      "Logging": 1,
      "LastEndPoint": null,
      "PendingEndPoint": null,
      "ParameterNames": "",
      "ParameterDefaults": "",
      "SourceSchema": null,
      "TargetSchema": null,
      "SourceConnectionName": "MySQL",
      "TargetConnectionName": null,
      "SourceFileName": null,
      "TargetFileName": null,
      "SourceClusterName": null,
      "TargetClusterName": null,
      "SourceFileId": null,
      "TargetFileId": null,
      "MaxThreads": 4,
      "ParallelDm": true,
      "PythonEnvironmentName": null,
      "RunWithAgentId": 1,
      "Agent": {
        "AgentId": 1,
        "AgentName": "BizData-L145.bizdata.local",
        "HostName": "BizData-L145.bizdata.local",
        "DateCreated": "0001-01-01T00:00:00",
        "DateUpdated": "0001-01-01T00:00:00",
        "HeartBeat": "0001-01-01T00:00:00",
        "Version": null,
        "TaskQueues": null,
        "ConnectionId": null,
        "IsHealthy": false
      },
      "PythonEnvironment": null,
      "SourceConnection": null,
      "TargetConnection": null,
      "SourceCluster": null,
      "TargetCluster": null,
      "LoggingType": null,
      "TaskType": null,
      "TaskTable": [],
      "TaskConnections": []
    },
    {
      "JobName": "YMCA OS Command",
      "TaskContent": "",
      "TaskName": "Import MySQL",
      "ProjectId": 1,
      "ProjectName": null,
      "TaskTypeName": "Data Migration",
      "Logging": 1,
      "LastEndPoint": null,
      "PendingEndPoint": null,
      "ParameterNames": "FlatFileDetectDataTypeMaxRow|UseTableDetect|DetectFilter",
      "ParameterDefaults": "250|true|",
      "SourceSchema": "employees",
      "TargetSchema": "MYSQLAlexdb",
      "SourceConnectionName": "MySQL",
      "TargetConnectionName": "Warehouse",
      "SourceFileName": null,
      "TargetFileName": null,
      "SourceClusterName": null,
      "TargetClusterName": null,
      "SourceFileId": null,
      "TargetFileId": null,
      "MaxThreads": 4,
      "ParallelDm": true,
      "PythonEnvironmentName": null,
      "RunWithAgentId": 1,
      "Agent": {
        "AgentId": 1,
        "AgentName": "BizData-L145.bizdata.local",
        "HostName": "BizData-L145.bizdata.local",
        "DateCreated": "0001-01-01T00:00:00",
        "DateUpdated": "0001-01-01T00:00:00",
        "HeartBeat": "0001-01-01T00:00:00",
        "Version": null,
        "TaskQueues": null,
        "ConnectionId": null,
        "IsHealthy": false
      },
      "PythonEnvironment": null,
      "SourceConnection": null,
      "TargetConnection": null,
      "SourceCluster": null,
      "TargetCluster": null,
      "LoggingType": null,
      "TaskType": null,
      "TaskTable": [
        {
          "SourceSchemaName": "employees",
          "SourceTableName": "departments",
          "TargetSchemaName": "MYSQLAlexdb",
          "TargetTableName": "departments",
          "Sequence": 1,
          "DataCurrencyDatabase": null,
          "DataCurrencySchema": null,
          "DataCurrencyTable": null,
          "DataCurrencyColumnName": null,
          "RefreshPeriod": 1,
          "RefreshPeriodTypeId": 1,
          "IsIncremental": false,
          "TruncateOnReload": null,
          "ImportPrimaryKeys": false,
          "ImportSecondaryIndexes": false,
          "Query": null,
          "LastEndPoint": "",
          "ColumnStore": null,
          "FileGroup": null,
          "SpaceReplacement": null,
          "TaskTableColumns": [],
          "TaskTableColumnFilters": [],
          "TaskTableExtendedOptions": [],
          "TaskMerges": [],
          "RefreshPeriodType": "Day"
        },
        {
          "SourceSchemaName": "employees",
          "SourceTableName": "dept_emp",
          "TargetSchemaName": "MYSQLAlexdb",
          "TargetTableName": "dept_emp",
          "Sequence": 2,
          "DataCurrencyDatabase": null,
          "DataCurrencySchema": null,
          "DataCurrencyTable": null,
          "DataCurrencyColumnName": null,
          "RefreshPeriod": 1,
          "RefreshPeriodTypeId": 1,
          "IsIncremental": false,
          "TruncateOnReload": null,
          "ImportPrimaryKeys": false,
          "ImportSecondaryIndexes": false,
          "Query": null,
          "LastEndPoint": "",
          "ColumnStore": null,
          "FileGroup": null,
          "SpaceReplacement": null,
          "TaskTableColumns": [],
          "TaskTableColumnFilters": [],
          "TaskTableExtendedOptions": [],
          "TaskMerges": [],
          "RefreshPeriodType": "Day"
        },
        {
          "SourceSchemaName": "employees",
          "SourceTableName": "dept_manager",
          "TargetSchemaName": "MYSQLAlexdb",
          "TargetTableName": "dept_manager",
          "Sequence": 3,
          "DataCurrencyDatabase": null,
          "DataCurrencySchema": null,
          "DataCurrencyTable": null,
          "DataCurrencyColumnName": null,
          "RefreshPeriod": 1,
          "RefreshPeriodTypeId": 1,
          "IsIncremental": false,
          "TruncateOnReload": null,
          "ImportPrimaryKeys": false,
          "ImportSecondaryIndexes": false,
          "Query": null,
          "LastEndPoint": "",
          "ColumnStore": null,
          "FileGroup": null,
          "SpaceReplacement": null,
          "TaskTableColumns": [],
          "TaskTableColumnFilters": [],
          "TaskTableExtendedOptions": [],
          "TaskMerges": [],
          "RefreshPeriodType": "Day"
        },
        {
          "SourceSchemaName": "employees",
          "SourceTableName": "employees",
          "TargetSchemaName": "MYSQLAlexdb",
          "TargetTableName": "employees",
          "Sequence": 4,
          "DataCurrencyDatabase": null,
          "DataCurrencySchema": null,
          "DataCurrencyTable": null,
          "DataCurrencyColumnName": null,
          "RefreshPeriod": 1,
          "RefreshPeriodTypeId": 1,
          "IsIncremental": false,
          "TruncateOnReload": null,
          "ImportPrimaryKeys": false,
          "ImportSecondaryIndexes": false,
          "Query": null,
          "LastEndPoint": "",
          "ColumnStore": null,
          "FileGroup": null,
          "SpaceReplacement": null,
          "TaskTableColumns": [],
          "TaskTableColumnFilters": [],
          "TaskTableExtendedOptions": [],
          "TaskMerges": [],
          "RefreshPeriodType": "Day"
        },
        {
          "SourceSchemaName": "employees",
          "SourceTableName": "salaries",
          "TargetSchemaName": "MYSQLAlexdb",
          "TargetTableName": "salaries",
          "Sequence": 5,
          "DataCurrencyDatabase": null,
          "DataCurrencySchema": null,
          "DataCurrencyTable": null,
          "DataCurrencyColumnName": null,
          "RefreshPeriod": 1,
          "RefreshPeriodTypeId": 1,
          "IsIncremental": false,
          "TruncateOnReload": null,
          "ImportPrimaryKeys": false,
          "ImportSecondaryIndexes": false,
          "Query": null,
          "LastEndPoint": "",
          "ColumnStore": null,
          "FileGroup": null,
          "SpaceReplacement": null,
          "TaskTableColumns": [],
          "TaskTableColumnFilters": [],
          "TaskTableExtendedOptions": [],
          "TaskMerges": [],
          "RefreshPeriodType": "Day"
        },
        {
          "SourceSchemaName": "employees",
          "SourceTableName": "titles",
          "TargetSchemaName": "MYSQLAlexdb",
          "TargetTableName": "titles",
          "Sequence": 6,
          "DataCurrencyDatabase": null,
          "DataCurrencySchema": null,
          "DataCurrencyTable": null,
          "DataCurrencyColumnName": null,
          "RefreshPeriod": 1,
          "RefreshPeriodTypeId": 1,
          "IsIncremental": false,
          "TruncateOnReload": null,
          "ImportPrimaryKeys": false,
          "ImportSecondaryIndexes": false,
          "Query": null,
          "LastEndPoint": "",
          "ColumnStore": null,
          "FileGroup": null,
          "SpaceReplacement": null,
          "TaskTableColumns": [],
          "TaskTableColumnFilters": [],
          "TaskTableExtendedOptions": [],
          "TaskMerges": [],
          "RefreshPeriodType": "Day"
        }
      ],
      "TaskConnections": []
    },
    {
      "JobName": "YMCA OS Command",
      "TaskContent": "$Database = \"employeeoutput\";\r\n# Do not modify past here\r\n$Username = $SourceConnection.Options.Username;\r\n$Password = $SourceConnection.Options.Password;\r\n$DropCommand = \"DROP DATABASE IF EXISTS $Database\";\r\nmysql --user=$Username --password=$Password --database=$Database -e $DropCommand;",
      "TaskName": "Drop MYSQL",
      "ProjectId": 1,
      "ProjectName": null,
      "TaskTypeName": "PowerShell Core",
      "Logging": 1,
      "LastEndPoint": null,
      "PendingEndPoint": null,
      "ParameterNames": "",
      "ParameterDefaults": "",
      "SourceSchema": null,
      "TargetSchema": null,
      "SourceConnectionName": null,
      "TargetConnectionName": null,
      "SourceFileName": null,
      "TargetFileName": null,
      "SourceClusterName": null,
      "TargetClusterName": null,
      "SourceFileId": null,
      "TargetFileId": null,
      "MaxThreads": 4,
      "ParallelDm": true,
      "PythonEnvironmentName": null,
      "RunWithAgentId": 1,
      "Agent": {
        "AgentId": 1,
        "AgentName": "BizData-L145.bizdata.local",
        "HostName": "BizData-L145.bizdata.local",
        "DateCreated": "0001-01-01T00:00:00",
        "DateUpdated": "0001-01-01T00:00:00",
        "HeartBeat": "0001-01-01T00:00:00",
        "Version": null,
        "TaskQueues": null,
        "ConnectionId": null,
        "IsHealthy": false
      },
      "PythonEnvironment": null,
      "SourceConnection": null,
      "TargetConnection": null,
      "SourceCluster": null,
      "TargetCluster": null,
      "LoggingType": null,
      "TaskType": null,
      "TaskTable": [],
      "TaskConnections": []
    }
  ],
  "JobSequences": [
    {
      "JobName": "YMCA OS Command",
      "RunSequence": 1,
      "ParallelSequence": 0,
      "ParameterValues": null,
      "ConnectionId": null,
      "Active": true,
      "TaskName": "Powershell Restore",
      "Connection": null
    },
    {
      "JobName": "YMCA OS Command",
      "RunSequence": 2,
      "ParallelSequence": 0,
      "ParameterValues": null,
      "ConnectionId": null,
      "Active": false,
      "TaskName": "Import MySQL",
      "Connection": null
    },
    {
      "JobName": "YMCA OS Command",
      "RunSequence": 3,
      "ParallelSequence": 0,
      "ParameterValues": null,
      "ConnectionId": null,
      "Active": false,
      "TaskName": "Drop MYSQL",
      "Connection": null
    }
  ],
  "JobSequenceDependencies": [
    {
      "JobName": "YMCA OS Command",
      "ProjectName": "Matthew-Project",
      "TaskName": "Import MySQL",
      "TaskRunSequence": 2,
      "PredecessorTaskName": "Powershell Restore",
      "PredecessorTaskRunSequence": 1
    },
    {
      "JobName": "YMCA OS Command",
      "ProjectName": "Matthew-Project",
      "TaskName": "Drop MYSQL",
      "TaskRunSequence": 3,
      "PredecessorTaskName": "Powershell Restore",
      "PredecessorTaskRunSequence": 1
    },
    {
      "JobName": "YMCA OS Command",
      "ProjectName": "Matthew-Project",
      "TaskName": "Drop MYSQL",
      "TaskRunSequence": 3,
      "PredecessorTaskName": "Import MySQL",
      "PredecessorTaskRunSequence": 2
    }
  ],
  "JobDependencies": []
}